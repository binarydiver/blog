<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><link rel="icon" type="image/x-icon" href="/favicon.ico"/><meta name="author" content="Jason Park, jason@binarydiver.com"/><meta name="color-scheme" content="dark light"/><meta name="og:site_name" content="Jason&#x27;s Wisdom"/><title>Next.js로 GitHub Page에 블로그 개설하기</title><meta name="description" content="Next.js로 정적 웹사이트를 추출하여 GitHub Page 위에서 운영할 수 있는 블로그를 개설한 과정에 대한 이야기이다."/><meta name="keywords" content="programming, it, tech, next.js, blog, markdoc"/><meta name="og:title" content="Next.js로 GitHub Page에 블로그 개설하기"/><meta name="og:description" content="Next.js로 정적 웹사이트를 추출하여 GitHub Page 위에서 운영할 수 있는 블로그를 개설한 과정에 대한 이야기이다."/><meta name="og:url" content="https://blog.binarydiver.com/articles/2024/09/15/build_blog_with_nextjs_on_github"/><meta name="next-head-count" content="12"/><link rel="preload" href="/_next/static/media/a15f2fce4b98b461-s.p.woff2" as="font" type="font/woff2" crossorigin="anonymous" data-next-font="size-adjust"/><link rel="preload" href="/_next/static/css/6ac38a33adfd6582.css" as="style"/><link rel="stylesheet" href="/_next/static/css/6ac38a33adfd6582.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-78c92fac7aa8fdd8.js"></script><script src="/scripts/theme.js" defer="" data-nscript="beforeInteractive"></script><script src="/_next/static/chunks/webpack-3278f6599d1fa86c.js" defer=""></script><script src="/_next/static/chunks/framework-0cbe3b56a5f66701.js" defer=""></script><script src="/_next/static/chunks/main-c3a98da33fe83da7.js" defer=""></script><script src="/_next/static/chunks/pages/_app-f8eae033ea2789a2.js" defer=""></script><script src="/_next/static/chunks/19ad7bf0-c6b0191471d45a00.js" defer=""></script><script src="/_next/static/chunks/285-c420e12c2988f143.js" defer=""></script><script src="/_next/static/chunks/pages/articles/2024/09/14/build_blog_with_nextjs_on_github-95d649d362ffedc5.js" defer=""></script><script src="/_next/static/aVCbKnMZ-QqTdIdlSX6c1/_buildManifest.js" defer=""></script><script src="/_next/static/aVCbKnMZ-QqTdIdlSX6c1/_ssgManifest.js" defer=""></script></head><body class="antialiased bg-zinc-100 prose prose-zinc dark:bg-zinc-950 dark:prose-invert max-w-full"><div id="__next"><div class="__className_99422f"><div class="flex flex-col h-screen"><nav class="border-b p-4"><div class="flex flex-col sm:flex-row max-w-screen-lg m-auto"><div class="flex-auto"><a class="no-underline" href="/"><h1 class="leading-normal m-0">Jason&#x27;s Wisdom</h1></a></div><div class="flex flex-1 gap-x-2 items-center justify-end"><button type="button" class="text-white bg-gray-300 hover:bg-gray-400 focus:ring-gray-500 focus:outline-none focus:ring-2 font-medium rounded-lg text-4xl px-1.5 pb-1 dark:bg-gray-100 dark:hover:dark:bg-gray-400 dark:focus:ring-gray-200">🌓︎</button><a href="/rss.xml"><img alt="rss icon" loading="lazy" width="44" height="44" decoding="async" data-nimg="1" class="m-0 min-w-[44px]" style="color:transparent" src="/_next/static/media/rss-512.806268e7.png"/></a></div></div></nav><main class="max-w-screen-lg mx-auto w-full p-4"><article><h1>Next.js로 GitHub Page에 블로그 개설하기</h1><p>나만의 보관소에 기록을 하고 있는 내용들을 공개적으로 공유하고, 다른 사람에게 전달할 때도 수월하게 하고 싶어 블로그를 개설하기로 했다.<!-- --> <!-- -->그래서 블로그를 운영하기 위한 여러 방법을 모색했다.&lt;br&gt;<!-- --> <!-- -->원하는 주요 기능은 다음과 같다.</p><ol><li>글을 쉽게 이전 및 추출할 수 있도록 DB 통제권을 가져야 한다.</li><li>표준화된 포맷으로 글을 작성 및 추출할 수 있어 파싱이 수월해야 한다.</li><li>글에 코멘트를 올려 소통할 수 있어야 한다.</li><li>레이아웃과 테마를 최대한 커스텀할 수 있어야 한다.</li><li>국내/외 검색 엔진에 크롤링될 수 있어야 한다.</li></ol><p>1, 2번을 제외한다면 블로그를 운영하기 좋은 서비스들은 많이 존재한다.&lt;br&gt;<!-- --> <!-- -->특히 4번의 검색 엔진 노출의 경우 유명한 블로그 서비스에 글을 올리는 것이 백링크 측면에서 더 유리하다.&lt;br&gt;<!-- --> <!-- -->그러나 프로그래머일수록 1, 2번이 마음에 걸릴 수 있다.&lt;br&gt;<!-- --> <!-- -->결국 데이터베이스 통제권이 없다는 것은 내가 쓴 글의 소유권을 절반만 갖고 있다고 봐야 한다. 글을 완전히 소유하기 위해 별도의 기록소를 운영할 수 있지만 두번의 기록은 번거롭다.<!-- --> <!-- -->완벽에 가까운 해결책은 직접 웹사이트를 만들어서 서버를 구매해 올리는 것이다.<!-- --> <!-- -->하지만 우리는 이런 Zero to One이 얼마나 거추장스러운 일인지 잘 알고 있다.<!-- --> <!-- -->게다가 투자하는 모든 자원에 비해 결과가 목표를 넘어 자기만족에 그칠 가능성이 매우 높다.<!-- --> <!-- -->예측하기 어려운 미래에 대한 모든 시작은 변화에 능동적으로 대처할 수 있도록 규모가 작아야 좋다.<!-- --> <!-- -->그래서 추가적인 재화의 소모도 없고 오직 프로그래밍 능력만으로 1 ~ 5번을 모두 만족할 수 있는 방법으로 GitHub Page를 이용하기로 결정했다.<!-- --> <!-- -->과거에는 Jekyll를 이용해서 정적 사이트를 만들어 GitHub Page에 올리는 것이 많이 사용되던 방식이었다.<!-- --> <!-- -->하지만 리액트 바람이 불어온 뒤 격변의 시간이 지난 웹 시장에는 정적 웹사이트를 추출할 수 있는 라이브러리들이 훨씬 더 많아졌다.<!-- --> <!-- -->내가 현재 가장 익숙한 웹 사이트 제작 프레임워크는 Next.js 였고 이를 이용해서 제작하기로 했다.</p><p>Next.js 14.2.9 기준에서 개발 과정은 다음과 같다.&lt;br&gt;</p><p>다음 <a href="https://nextjs.org/docs/pages/api-reference/cli/create-next-app">CLI</a>로 Next.js 프로젝트를 생성한다.&lt;br&gt;</p><pre data-language="bash">pnpm create next-app test-nextjs-blog --ts --tailwind --eslint --no-app --no-src-dir --import-alias &quot;@/*&quot; --use-pnpm
</pre><p>&quot;styles/globals.css&quot;의 내용을 비우고 &quot;<a href="https://fonts.google.com/noto/specimen/Noto+Sans+KR?query=noto+sans+kr">Noto Sans KR</a>&quot;를 기본 폰트로 추가한다.</p><pre data-language="css">@import url(&#x27;https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@100..900&amp;display=swap&#x27;);

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  html {
    @apply font-sans;
  }
}
</pre><p>&quot;pages/_document.tsx&quot; 를 다음과 같이 변경한다.&lt;br&gt;<!-- --> <!-- -->여기서 &quot;favicon.ico&quot; 앞에 &quot;./&quot;를 붙인 것에 주목해야 한다.&lt;br&gt;<!-- --> <!-- -->커스텀 도메인을 지정하지 않으면 배포 시 주소가 &quot;...gihub.io/{repository_name}&quot;가 된다.<!-- --> <!-- -->그냥 &quot;/favicon.io&quot; 를</p><pre data-language="tsx">export default function Document() {}
</pre><p>&quot;_component&quot; 폴더를 만들고 &quot;header.tsx&quot;를 생성한다.</p><pre data-language="tsx">type HeaderProps = {
  title: string;
};

const Header = (props: HeaderProps) =&gt; {
  const { title } = props;

  return (
    &lt;nav className=&quot;border-b p-4&quot;&gt;
      &lt;div className=&quot;flex max-w-screen-lg m-auto&quot;&gt;
        &lt;div className=&quot;flex-auto&quot;&gt;
          &lt;Link className=&quot;no-underline&quot; href={&#x27;/&#x27;}&gt;
            &lt;h1 className=&quot;leading-normal m-0&quot;&gt;{title}&lt;/h1&gt;
          &lt;/Link&gt;
        &lt;/div&gt;
        &lt;div className=&quot;flex flex-1 gap-x-2 items-center justify-end&quot;&gt;
          // 라이트/다크 테마 전환을 위한 버튼
          &lt;button
            type=&quot;button&quot;
            className=&quot;text-white bg-gray-300 hover:bg-gray-400 focus:ring-gray-500 focus:outline-none focus:ring-2 font-medium rounded-lg text-4xl px-1.5 pb-1 dark:bg-gray-100 dark:hover:dark:bg-gray-400 dark:focus:ring-gray-200&quot;
            onClick={() =&gt; toggleTheme()}
          &gt;
            🌓︎
          &lt;/button&gt;
        &lt;/div&gt;
      &lt;/div&gt;
    &lt;/nav&gt;
  );
};

export default Header;
</pre><pre data-language="bash">pnpm add @markdoc/next.js @markdoc/markdoc
</pre><pre data-language="bash">pnpm add fast-glob gray-matter
</pre><pre data-language="bash">pnpm add -D rss @types/rss
</pre><pre data-language="bash">package.json에 다음 스크립트를 추가한다.
</pre><pre data-language="json">{
  /* ... */
  &quot;scripts&quot;: {
    /* ... */
    &quot;predeploy&quot;: &quot;pnpm run build &amp;&amp; touch out/.nojekyll &amp;&amp; echo \&quot;your-domain.com\&quot; &gt; out/CNAME&quot;
    // ref. https://github.blog/news-insights/bypassing-jekyll-on-github-pages/
  }
}
</pre><p>custom domain 연결 시 too many request 에러가 발생한다면, cloudflare 의 경우 dns proxy 를 끄거나 https full(strict)로 변경해야 한다.</p><p>next.config.mjs</p><pre>// ref. https://nextjs.org/docs/app/api-reference/next-config-js/headers#options
</pre><p>ref. https://alvinwanjala.com/blog/adding-security-headers-nextjs/</p><p>검색 기능을 고려하고 있다.</p><p>ref. https://create-react-app.dev/docs/deployment/#notes-on-client-side-routing</p><p>ref. https://code.pieces.app/blog/building-blogs-markdoc-nextjs<!-- --> <!-- -->ref. https://medium.com/@docploy/how-to-build-a-blog-using-next-js-and-markdoc-b4cfe8ed9dca</p><p>ref. https://nextjs.org/learn-pages-router/basics/dynamic-routes/render-markdown</p><p>ref. https://dev.to/promathieuthiry/creating-an-rss-feed-in-your-nextjs-project-20em</p></article><hr/></main><footer class="border-t mt-auto p-4 text-center">© 2024 Author</footer></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"markdoc":{"content":{"$$mdtype":"Tag","name":"article","attributes":{},"children":[{"$$mdtype":"Tag","name":"h1","attributes":{},"children":["Next.js로 GitHub Page에 블로그 개설하기"]},{"$$mdtype":"Tag","name":"p","attributes":{},"children":["나만의 보관소에 기록을 하고 있는 내용들을 공개적으로 공유하고, 다른 사람에게 전달할 때도 수월하게 하고 싶어 블로그를 개설하기로 했다."," ","그래서 블로그를 운영하기 위한 여러 방법을 모색했다.\u003cbr\u003e"," ","원하는 주요 기능은 다음과 같다."]},{"$$mdtype":"Tag","name":"ol","attributes":{},"children":[{"$$mdtype":"Tag","name":"li","attributes":{},"children":["글을 쉽게 이전 및 추출할 수 있도록 DB 통제권을 가져야 한다."]},{"$$mdtype":"Tag","name":"li","attributes":{},"children":["표준화된 포맷으로 글을 작성 및 추출할 수 있어 파싱이 수월해야 한다."]},{"$$mdtype":"Tag","name":"li","attributes":{},"children":["글에 코멘트를 올려 소통할 수 있어야 한다."]},{"$$mdtype":"Tag","name":"li","attributes":{},"children":["레이아웃과 테마를 최대한 커스텀할 수 있어야 한다."]},{"$$mdtype":"Tag","name":"li","attributes":{},"children":["국내/외 검색 엔진에 크롤링될 수 있어야 한다."]}]},{"$$mdtype":"Tag","name":"p","attributes":{},"children":["1, 2번을 제외한다면 블로그를 운영하기 좋은 서비스들은 많이 존재한다.\u003cbr\u003e"," ","특히 4번의 검색 엔진 노출의 경우 유명한 블로그 서비스에 글을 올리는 것이 백링크 측면에서 더 유리하다.\u003cbr\u003e"," ","그러나 프로그래머일수록 1, 2번이 마음에 걸릴 수 있다.\u003cbr\u003e"," ","결국 데이터베이스 통제권이 없다는 것은 내가 쓴 글의 소유권을 절반만 갖고 있다고 봐야 한다. 글을 완전히 소유하기 위해 별도의 기록소를 운영할 수 있지만 두번의 기록은 번거롭다."," ","완벽에 가까운 해결책은 직접 웹사이트를 만들어서 서버를 구매해 올리는 것이다."," ","하지만 우리는 이런 Zero to One이 얼마나 거추장스러운 일인지 잘 알고 있다."," ","게다가 투자하는 모든 자원에 비해 결과가 목표를 넘어 자기만족에 그칠 가능성이 매우 높다."," ","예측하기 어려운 미래에 대한 모든 시작은 변화에 능동적으로 대처할 수 있도록 규모가 작아야 좋다."," ","그래서 추가적인 재화의 소모도 없고 오직 프로그래밍 능력만으로 1 ~ 5번을 모두 만족할 수 있는 방법으로 GitHub Page를 이용하기로 결정했다."," ","과거에는 Jekyll를 이용해서 정적 사이트를 만들어 GitHub Page에 올리는 것이 많이 사용되던 방식이었다."," ","하지만 리액트 바람이 불어온 뒤 격변의 시간이 지난 웹 시장에는 정적 웹사이트를 추출할 수 있는 라이브러리들이 훨씬 더 많아졌다."," ","내가 현재 가장 익숙한 웹 사이트 제작 프레임워크는 Next.js 였고 이를 이용해서 제작하기로 했다."]},{"$$mdtype":"Tag","name":"p","attributes":{},"children":["Next.js 14.2.9 기준에서 개발 과정은 다음과 같다.\u003cbr\u003e"]},{"$$mdtype":"Tag","name":"p","attributes":{},"children":["다음 ",{"$$mdtype":"Tag","name":"a","attributes":{"href":"https://nextjs.org/docs/pages/api-reference/cli/create-next-app"},"children":["CLI"]},"로 Next.js 프로젝트를 생성한다.\u003cbr\u003e"]},{"$$mdtype":"Tag","name":"pre","attributes":{"data-language":"bash"},"children":["pnpm create next-app test-nextjs-blog --ts --tailwind --eslint --no-app --no-src-dir --import-alias \"@/*\" --use-pnpm\n"]},{"$$mdtype":"Tag","name":"p","attributes":{},"children":["\"styles/globals.css\"의 내용을 비우고 \"",{"$$mdtype":"Tag","name":"a","attributes":{"href":"https://fonts.google.com/noto/specimen/Noto+Sans+KR?query=noto+sans+kr"},"children":["Noto Sans KR"]},"\"를 기본 폰트로 추가한다."]},{"$$mdtype":"Tag","name":"pre","attributes":{"data-language":"css"},"children":["@import url('https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@100..900\u0026display=swap');\n\n@tailwind base;\n@tailwind components;\n@tailwind utilities;\n\n@layer base {\n  html {\n    @apply font-sans;\n  }\n}\n"]},{"$$mdtype":"Tag","name":"p","attributes":{},"children":["\"pages/_document.tsx\" 를 다음과 같이 변경한다.\u003cbr\u003e"," ","여기서 \"favicon.ico\" 앞에 \"./\"를 붙인 것에 주목해야 한다.\u003cbr\u003e"," ","커스텀 도메인을 지정하지 않으면 배포 시 주소가 \"...gihub.io/{repository_name}\"가 된다."," ","그냥 \"/favicon.io\" 를"]},{"$$mdtype":"Tag","name":"pre","attributes":{"data-language":"tsx"},"children":["export default function Document() {}\n"]},{"$$mdtype":"Tag","name":"p","attributes":{},"children":["\"_component\" 폴더를 만들고 \"header.tsx\"를 생성한다."]},{"$$mdtype":"Tag","name":"pre","attributes":{"data-language":"tsx"},"children":["type HeaderProps = {\n  title: string;\n};\n\nconst Header = (props: HeaderProps) =\u003e {\n  const { title } = props;\n\n  return (\n    \u003cnav className=\"border-b p-4\"\u003e\n      \u003cdiv className=\"flex max-w-screen-lg m-auto\"\u003e\n        \u003cdiv className=\"flex-auto\"\u003e\n          \u003cLink className=\"no-underline\" href={'/'}\u003e\n            \u003ch1 className=\"leading-normal m-0\"\u003e{title}\u003c/h1\u003e\n          \u003c/Link\u003e\n        \u003c/div\u003e\n        \u003cdiv className=\"flex flex-1 gap-x-2 items-center justify-end\"\u003e\n          // 라이트/다크 테마 전환을 위한 버튼\n          \u003cbutton\n            type=\"button\"\n            className=\"text-white bg-gray-300 hover:bg-gray-400 focus:ring-gray-500 focus:outline-none focus:ring-2 font-medium rounded-lg text-4xl px-1.5 pb-1 dark:bg-gray-100 dark:hover:dark:bg-gray-400 dark:focus:ring-gray-200\"\n            onClick={() =\u003e toggleTheme()}\n          \u003e\n            🌓︎\n          \u003c/button\u003e\n        \u003c/div\u003e\n      \u003c/div\u003e\n    \u003c/nav\u003e\n  );\n};\n\nexport default Header;\n"]},{"$$mdtype":"Tag","name":"pre","attributes":{"data-language":"bash"},"children":["pnpm add @markdoc/next.js @markdoc/markdoc\n"]},{"$$mdtype":"Tag","name":"pre","attributes":{"data-language":"bash"},"children":["pnpm add fast-glob gray-matter\n"]},{"$$mdtype":"Tag","name":"pre","attributes":{"data-language":"bash"},"children":["pnpm add -D rss @types/rss\n"]},{"$$mdtype":"Tag","name":"pre","attributes":{"data-language":"bash"},"children":["package.json에 다음 스크립트를 추가한다.\n"]},{"$$mdtype":"Tag","name":"pre","attributes":{"data-language":"json"},"children":["{\n  /* ... */\n  \"scripts\": {\n    /* ... */\n    \"predeploy\": \"pnpm run build \u0026\u0026 touch out/.nojekyll \u0026\u0026 echo \\\"your-domain.com\\\" \u003e out/CNAME\"\n    // ref. https://github.blog/news-insights/bypassing-jekyll-on-github-pages/\n  }\n}\n"]},{"$$mdtype":"Tag","name":"p","attributes":{},"children":["custom domain 연결 시 too many request 에러가 발생한다면, cloudflare 의 경우 dns proxy 를 끄거나 https full(strict)로 변경해야 한다."]},{"$$mdtype":"Tag","name":"p","attributes":{},"children":["next.config.mjs"]},{"$$mdtype":"Tag","name":"pre","attributes":{},"children":["// ref. https://nextjs.org/docs/app/api-reference/next-config-js/headers#options\n"]},{"$$mdtype":"Tag","name":"p","attributes":{},"children":["ref. https://alvinwanjala.com/blog/adding-security-headers-nextjs/"]},{"$$mdtype":"Tag","name":"p","attributes":{},"children":["검색 기능을 고려하고 있다."]},{"$$mdtype":"Tag","name":"p","attributes":{},"children":["ref. https://create-react-app.dev/docs/deployment/#notes-on-client-side-routing"]},{"$$mdtype":"Tag","name":"p","attributes":{},"children":["ref. https://code.pieces.app/blog/building-blogs-markdoc-nextjs"," ","ref. https://medium.com/@docploy/how-to-build-a-blog-using-next-js-and-markdoc-b4cfe8ed9dca"]},{"$$mdtype":"Tag","name":"p","attributes":{},"children":["ref. https://nextjs.org/learn-pages-router/basics/dynamic-routes/render-markdown"]},{"$$mdtype":"Tag","name":"p","attributes":{},"children":["ref. https://dev.to/promathieuthiry/creating-an-rss-feed-in-your-nextjs-project-20em"]}]},"frontmatter":{"docName":"build_blog_with_nextjs_on_github","title":"Next.js로 GitHub Page에 블로그 개설하기","description":"Next.js로 정적 웹사이트를 추출하여 GitHub Page 위에서 운영할 수 있는 블로그를 개설한 과정에 대한 이야기이다.","keywords":["next.js","blog","markdoc"],"writtenAt":"2024-09-15 09:00","updatedAt":"2024-09-15 09:00"},"file":{"path":"/articles/2024/09/14/build_blog_with_nextjs_on_github.md"}}},"__N_SSG":true},"page":"/articles/2024/09/14/build_blog_with_nextjs_on_github","query":{},"buildId":"aVCbKnMZ-QqTdIdlSX6c1","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>